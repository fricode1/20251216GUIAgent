# 实验背景

nanobrowser 在内网有点水土不服。我需要再次试试 windows 上单独安装 browseros-agent 的可能性

# 实验目的

在windows验证单独使用 browseros-agent 的可行性

# 实验步骤

## 下载与安装源代码

```powershell
git clone https://github.com/browseros-ai/BrowserOS-agent.git
cd C:\Users\admin\Documents\GitHub\一所\20251216GUIAgent\GUI_Agent效果录屏\实验50：在windows验证单独使用browseros-agent的可行性\BrowserOS-agent
```

安装

```powershell
bun install
```

报错：

```powershell
(base) PS C:\Users\admin\Documents\GitHub\一所\20251216GUIAgent\GUI_Agent效果录屏\实验50：在windows验证单独使用browseros-agent的可行性\BrowserOS-agent> bun install
bun : 无法将“bun”项识别为 cmdlet、函数、脚本文件或可运行程序的名称。请检查名称的拼写，如果包括路径，请确保路径正确，然后再试一次。
所在位置 行:1 字符: 1
+ bun install
+ ~~~
    + CategoryInfo          : ObjectNotFound: (bun:String) [], CommandNotFoundException
    + FullyQualifiedErrorId : CommandNotFoundException
 
(base) PS C:\Users\admin\Documents\GitHub\一所\20251216GUIAgent\GUI_Agent效果录屏\实验50：在windows验证单独使用browseros-agent的可行性\BrowserOS-agent> 
```

尝试：

```powershell
powershell -c "irm bun.sh/install.ps1 | iex"
```

成功。

问题：windows 安装太慢了。大约5~10分钟。3284 packages installed [645.51s]

继续设置配置文件：

```powershell
cp apps/server/.env.example apps/server/.env.development
cp apps/agent/.env.example apps/agent/.env.development  # USE_BROWSEROS_BINARY=false
```

运行：

```powershell
bun run start:agent
```

在非browseros弹不出侧边栏的原因：
```
toggleSidePanel.ts:23 Uncaught (in promise) TypeError: chrome.sidePanel.browserosToggle is not a function
    at toggleSidePanel (toggleSidePanel.ts:23:33)
    at index.ts:21:7
toggleSidePanel	@	toggleSidePanel.ts:23
（匿名）	@	index.ts:21
```

browserosToggle 是 browseros 专属函数，所以在 chrome 中执行会报错。
- browserosToggle 对应了一大堆.h文件

在 browseros执行，能弹出窗口，但是不显示内容：因为有个 init_plugins 函数，会联网，联不通，就显示不了内容
C:\Users\admin\Documents\GitHub\一所\20251216GUIAgent\GUI_Agent效果录屏\实验50：在windows验证单独使用browseros-agent的可行性\BrowserOS-agent\apps\agent\dist\chrome-mv3-dev\background.js:  validateProtocol
- 想安装 browseros 莫名其妙安装不了

怎么就这么麻烦？我自己写一个浏览器插件？

# 实验结果

失败。

# 未来计划

自己动手写一个浏览器插件