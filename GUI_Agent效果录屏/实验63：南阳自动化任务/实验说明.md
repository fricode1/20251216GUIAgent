# 实验背景

这周，完成了两件基础性工作：
- GUI Agent 能够跑通了
- 视综账号开通了

刚才，同事提出了新需求：
- 车辆抓拍照，需要关联驾驶人身份
- 不需要一个给别人用的产品，我先弄好再说

这与之前的理解是矛盾的：
- 之前，我以为要给用户提供一个让用户用的工具
- 之前，我以为必须要有极强的安装/硬件兼容性
- 之前，我以为必须要在视综平台和MRAG平台做跨系统应用

# 实验目的

思考如何完成车辆抓拍照与驾驶人的关联

# 实验步骤

## OpenCode

### 安装 OpenCode

```powershell
npm i -g opencode-ai
```

### 运行 OpenCode

```powershell
opencode
```

### 使用opencode打开百度

#### 配置MCP

新建 `C:\Users\admin\.config\opencode\opencode.json`，内容如下：

```json
{
  "$schema": "https://opencode.ai/config.json",
  "mcp": {
    "chrome-devtools": {
      "type": "local",
      "command": ["npx", "-y", "chrome-devtools-mcp@latest"]
    }
  }
}
```

完成。缺点：操作了几次，就提示：

```text
This model's maximum context length is 131072 tokens. However, you requested 138976 tokens (106976 in the messages, 32000 in the completion). Please reduce the length of the messages or completion.
```

## 思考真实应用怎么完成

读取图片 - 裁剪人脸 - 上传至浏览器 - 读取浏览器内容 - 写入本地

## 使用 openinterpreter

```powershell
pip install git+https://github.com/OpenInterpreter/open-interpreter.git
```

报错：

```powershell
ERROR: Package 'open-interpreter' requires a different Python: 3.13.9 not in '<3.13,>=3.9'
```

```powershell
conda activate open_interpreter_py311
openinterpreter
```

报错：

```powershell
▌ OpenAI API key not found
To use gpt-4o (recommended) please provide an OpenAI API key.
To use another language model, run interpreter --local or consult the documentation at docs.openinterpreter.com.
```

```powershell
interpreter --model deepseek-chat `
--api_base https://api.deepseek.com `
--api_key sk-6fda4f18a54140c6ae408fdd13cfe97d
```

该应用通过执行代码来做事情。但是并没有利用 chrome-devtools-mcp 

## 梳理什么平台支持 chrome-devtools-mcp 

### cluade code

- 成功下载网页图片
- 成功绕过max-token问题

缺点：无法编程控制流程

## stagehand

我发现，如果能让网站自动上传文件，其实纯粹的web agent就可以。

stagehand 能够执行文件上传操作吗？

其实我不需要读取网页内容。因为我知道网页有什么内容。

## 学习 playwright

### 安装 playwright

```powershell
npm init playwright@latest playwright_demo
```

# 实验结果

用八爪鱼RPA是最优解。