# 实验背景

agent操作12306浏览器填写时间框失效。填写操作是基本操作，如果这个操作都搞不定，将来能发挥什么大的作用呢？所以必须弄清楚究竟是怎么失效的。底层是用 cdp use 操作的。

# 实验目的

用 cdp_use 复现12306填写时间框失效。

# 实验步骤

## 浏览 cdp_use 代码

- https://github.com/browser-use/cdp-use
- 借助豆包。

## 跑通 cdp_use 代码

### 服务端

chromium --remote-debugging-port=9222

运行该命令，会得到监听地址，如：`ws://[::1]:9222/devtools/browser/7119b24e-4638-4d1f-89ec-06fae1f66be5`

### 客户端

```python

import asyncio
from cdp_use.client import CDPClient

async def main():
    # Connect to Chrome DevTools
    async with CDPClient("ws://[::1]:9222/devtools/browser/7119b24e-4638-4d1f-89ec-06fae1f66be5") as cdp:
        # Get all browser targets with full type safety
        targets = await cdp.send.Target.getTargets()
        print(f"Found {len(targets['targetInfos'])} targets")
        for target in targets["targetInfos"]:
            print(f"目标ID: {target['targetId']}, 标题: {target['title']}, URL: {target['url']}")

asyncio.run(main())
```

备注：`async with CDPClient("ws://[::1]:9222/devtools/browser/7119b24e-4638-4d1f-89ec-06fae1f66be5") as cdp:`

地址从服务端获取。

成功跑通。

## 跑通点击代码