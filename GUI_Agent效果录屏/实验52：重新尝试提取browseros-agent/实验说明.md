# 实验背景

实验50：想要提取 browseros-agent，失败。因为调用了 browseros 实现的方法：

```typescript
chrome.sidePanel.browserosToggle
```

于是想在实验51中从头开发，也失败。但是发现上述方法只是 chrome 内置方法的变体：

```typescript
chrome.sidePanel.open
```

所以直接替换，就能跑通了吧？

# 实验目的

将 `chrome.sidePanel.browserosToggle` 替换成 `chrome.sidePanel.open` 观察效果。

# 实验步骤

## 安装好 browseros-agent

```powershell
git clone https://github.com/browseros-ai/BrowserOS-agent.git
cd BrowserOS-agent
bun install
```

## 修改代码

`apps\agent\lib\browseros\toggleSidePanel.ts` 中 2 处进行修改。

```powershell
cp apps/agent/.env.example apps/agent/.env.development
# 必须设置 USE_BROWSEROS_BINARY=false，否则后续流程报错
```

## 运行代码

```powershell
bun run start:agent
```

## 问题: 该插件有个 warning, 不恰当的权限：browseros

成功解决：在 C:\Users\admin\Documents\GitHub\BrowserOS-agent\apps\agent\wxt.config.ts 中的 permissions 字段删除相应权限。

## 试图找到发送按钮对应的断点

失败。找不到调试文件。

# 实验结果

成功在chrome加载，但由于知识盲区，无法进一步调试。